var IntroTour=function(e,r,n,t,o){"use strict";function s(){g.laterThisTour(),t.setPreferences("IntroTour",JSON.stringify(g.options))}function u(){g.neverThisTour(),t.setPreferences("IntroTour",JSON.stringify(g.options))}function i(){g.neverAllTours(),t.setPreferences("IntroTour",JSON.stringify(g.options))}function c(){g.takeThisTour(),t.setPreferences("IntroTour",JSON.stringify(g.options))}function T(){t.setPreferences("IntroTour",null)}function a(){var e=JSON.parse(t.getPreference("IntroTour",null));e&&e.remainingTours&&e.remainingTours.length>0&&(e.remainingTours[0].showDate=new Date,t.setPreferences("IntroTour",JSON.stringify(e)))}function l(){b&&(b.unSubscribeAction("later"),b.unSubscribeAction("never"),b.unSubscribeAction("start"),b.cleanup(),b=null)}function f(i){var T=null,a=this;i||(T=t.getPreference("seenVault4.0")?{remainingTours:[]}:JSON.parse(t.getPreference("IntroTour",null))),g=new e(n,T);var f=g.getAvailableTour();f&&f.showDate&&new Date>=new Date(f.showDate)&&(b=new r(f),i||(t.setPreferences("IntroTour",JSON.stringify(g.options)),b.subscribeToAction("later",s),b.subscribeToAction("never",u),b.subscribeToAction("start",c),b.subscribeToAction("close",l)),o.get(o.CLEAR_DATA).subscribe(function(){a&&a.cleanup&&a.cleanup()}),b.startFlow(i))}var b,g;return{start:f,cleanup:l,neverThisTour:u,laterThisTour:s,neverAllTours:i,takeThisTour:c,resetAllTours:T,makeLaterNowTours:a}}(IntroTourQueue,IntroTourFlow,IntroTourData,LPProxy,Topics);